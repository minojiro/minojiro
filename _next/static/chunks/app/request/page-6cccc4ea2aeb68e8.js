(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[144],{2554:(e,t,a)=>{Promise.resolve().then(a.bind(a,9438))},9438:(e,t,a)=>{"use strict";a.d(t,{ContactClient:()=>m});var r=a(1047),s=a(6847),l=a(59),n=a(8942);let i=()=>({name:"",email:"",message:"",accessKey:"63bd881c-e721-4b6e-acd8-d22a27fa644d"});class o extends Error{}let d=e=>{let{notifications:t}=e;return 0===t.length?null:(0,r.jsx)("div",{className:"fixed top-0 left-0 right-0 p-2 grid gap-1 z-10",children:t.map(e=>{let t="error"===e.type?"bg-red-500":"bg-primary",a="error"===e.type?"text-white":"text-black";return(0,r.jsx)("div",{className:"".concat(t," ").concat(a," font-bold text-black px-2 py-4 text-center rounded"),children:e.message},e.id)})})},m=()=>{let[e,t]=(0,s.useState)([]),[a,m]=(0,s.useState)(!1),[c,p]=(0,s.useState)(i()),b=e=>{p({...c,...e})},x=()=>{if(""===c.name||c.name.length>=30)throw new o("お名前を30文字以内で入力してください");if(""===c.email)throw new o("メールアドレスを入力してください");if(""===c.message||c.message.length>1e3)throw new o("メッセージを1000文字以内で入力してください")},g=function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s={id:Math.max(0,...e.map(e=>e.id))+1,message:a,type:r};t([...e,s]),setTimeout(()=>{t(e.filter(e=>e.id!==s.id))},5e3)},u=async()=>{m(!0);try{x();let e=await fetch("https://api.staticforms.xyz/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!e.ok)throw Error(e.statusText);g("送信しました","info"),p(i())}catch(e){if(e instanceof o){g(e.message,"error");return}throw g("送信できませんでした","error"),e}finally{m(!1)}};return(0,r.jsxs)("form",{className:"grid gap-4",onSubmit:e=>{e.preventDefault(),u()},children:[(0,r.jsx)(d,{notifications:e}),(0,r.jsxs)("label",{children:[(0,r.jsx)("p",{className:"font-bold",children:"お名前・会社名"}),(0,r.jsx)("input",{type:"text",maxLength:30,name:"name",className:"mt-1 border border-line border-1 bg-primarybg w-full px-4 py-4 rounded text-lg",value:c.name,onChange:e=>b({name:e.target.value}),required:!0})]}),(0,r.jsxs)("label",{children:[(0,r.jsx)("p",{className:"font-bold",children:"メールアドレス"}),(0,r.jsx)("input",{type:"email",name:"email",className:"mt-1 border border-line border-1 bg-primarybg w-full px-4 py-4 rounded text-lg",value:c.email,onChange:e=>b({email:e.target.value}),required:!0})]}),(0,r.jsxs)("label",{children:[(0,r.jsx)("p",{className:"font-bold",children:"メッセージ"}),(0,r.jsx)("textarea",{maxLength:1e3,className:"mt-1 border border-line border-1 bg-primarybg w-full px-4 py-4 rounded text-lg",value:c.message,onChange:e=>b({message:e.target.value}),rows:5,required:!0})]}),(0,r.jsx)("div",{className:"pt-2 flex",children:a?(0,r.jsx)("p",{className:"bg-primarybg font-bold text-black px-16 py-2 rounded",children:(0,r.jsx)(l.g,{icon:n.z1G,spin:!0})}):(0,r.jsx)("button",{className:"bg-primary font-bold text-black px-16 py-3 rounded",type:"submit",children:"送信"})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[270,59,721,440,358],()=>t(2554)),_N_E=e.O()}]);